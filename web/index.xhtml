<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

<ui:composition template="layout.xhtml">

   <ui:define name="title">SWEBOK</ui:define>





        <ui:define name="auth">
            <h:form>
                <h:commandButton styleClass="btn btn-success" action="authorization?faces-redirect=true" value="Авторизация">  </h:commandButton>
        </h:form>
        </ui:define>




         <br/>
         <br/>
         <br/>
         <br/>

<ui:define name="content">
    <h:form id ="form">
        <h:panelGrid id="pGrid" columns="2"  columnClasses="vertical" >

            <h:dataTable id="chapterlist"   value ="#{guestController.findAllChapters()}" var ="ch"  columnClasses="btn-group-vertical" >
                <h:column >
                    <f:facet name="header">
                        <h:column>
                            <h:outputText value="Глава"/>
                        </h:column>
                    </f:facet>

                    <h:commandButton styleClass="btn btn-success" value="#{ch.title}" action="#{guestController.findChapter(ch.id)}" >
                        <f:ajax execute=":form" render=":form :panel"/>
                    </h:commandButton>
                </h:column>
            </h:dataTable>


            <h:panelGrid columnClasses="vertical"  styleClass="margin" id = "panel" columns = "1">

                <f:facet name = "header">
                    <h:outputText value = "#{guestController.chapter.title}"/>
                </f:facet>
                <h:outputText value = "#{guestController.chapter.content}"  escape="false"/>

                <h:outputText value="#{guestController.getTags()}"/>

            </h:panelGrid>

        </h:panelGrid>

    </h:form>
</ui:define>


</ui:composition>
</html>
